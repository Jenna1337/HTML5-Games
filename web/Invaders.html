<!DOCTYPE html>
<head>
<link rel="stylesheet" href="assets/styles/Common.css">
<script src="assets/script/javascript/KeyListener.js"></script>
<script src="assets/script/javascript/CanvasTools.js"></script>
<script src="assets/script/javascript/GameObject.js"></script>
<script src="assets/script/javascript/GameCanvas.js"></script>
<script>
var ship;
var shipspd = 1;
var gamecanvas;
var gamespd = 30;
var keyleft = false;
var keyright = false;
function loadgame(cname){
	gamecanvas = new GameCanvas(cname, 
function(canvas)
{
	var gamemargin = gamecanvas.getMargins();
	keyleft = keyleft && ship.x > gamemargin.left;
	keyright = keyright && ship.x < gamemargin.right;
	if(keyleft)
		//move ship left
		ship.x -= shipspd;
	if(keyright)
		//move ship right
		ship.x += shipspd;
});
	var canvas = document.getElementById(cname);
	ship = new GameObject("assets/img/invaders/ship_1.png", 20, 0, 0);
	ship.y = canvas.height-ship.img.width;
	gamecanvas.gamespeed = gamespd;
	gamecanvas.addGameObject(ship);
	addKeyListener(document, "A", function(key){
		var gamemargin = gamecanvas.getMargins();
		keyleft = ship.x > gamemargin.left;
	}, function(key){
		keyleft = false;
	});
	addKeyListener(document, "D", function(key){
		var gamemargin = gamecanvas.getMargins();
		keyright = ship.x < gamemargin.right;
	}, function(key){
		keyright = false;
	});
	addKeyListener(document, "W", function(key){
		//shoot bullet
		
	});
	addKeyListener(document, "S", function(key){
		
	});
};
</script>
</head>
<body onload="loadgame('gamecanvas')">
<div id="warning" class="bigred blink-fade">This game is under construction</div>
<canvas id="gamecanvas" width="200px" height="100px" style="border:1px solid #000000;"></canvas>
<div id="ship.vector.angle"></div>
<div id="ship.vector.velocity"></div>
</body>
